<svg xmlns="http://www.w3.org/2000/svg" width="900" height="260">
  <style>
    .box { fill:#f5f5f5; stroke:#333; stroke-width:1.5; rx:8; ry:8; }
    .title { font-family:Arial, sans-serif; font-size:18px; font-weight:bold; }
    .label { font-family:Arial, sans-serif; font-size:13px; }
    .small { font-family:Arial, sans-serif; font-size:11px; }
    .arrow { stroke:#333; stroke-width:1.5; marker-end:url(#arrow); fill:none; }
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <text x="20" y="30" class="title">Smart-Monitor Metrics &amp; Events Pipeline</text>

  <!-- Agents -->
  <rect x="40" y="80" width="160" height="80" class="box" />
  <text x="50" y="100" class="label">Agents</text>
  <text x="50" y="120" class="small">CPU / Memory / Disk</text>
  <text x="50" y="138" class="small">Services / Network</text>

  <!-- Orchestrator -->
  <rect x="260" y="80" width="200" height="80" class="box" />
  <text x="270" y="100" class="label">Orchestrator</text>
  <text x="270" y="120" class="small">Normalize &amp; Enrich</text>
  <text x="270" y="138" class="small">Detection &amp; Rules</text>

  <!-- Postgres -->
  <rect x="520" y="80" width="160" height="80" class="box" />
  <text x="530" y="100" class="label">Postgres</text>
  <text x="530" y="120" class="small">Metrics / Events / Logs</text>

  <!-- API / UI -->
  <rect x="720" y="80" width="140" height="80" class="box" />
  <text x="730" y="100" class="label">API / UI</text>
  <text x="730" y="120" class="small">REST + SSE</text>
  <text x="730" y="138" class="small">Dashboards</text>

  <!-- Arrows -->
  <line x1="200" y1="120" x2="260" y2="120" class="arrow" />
  <line x1="460" y1="120" x2="520" y2="120" class="arrow" />
  <line x1="600" y1="160" x2="600" y2="200" class="arrow" />
  <line x1="600" y1="200" x2="790" y2="200" class="arrow" />
  <line x1="790" y1="160" x2="790" y2="160" class="arrow" />
  <line x1="600" y1="120" x2="720" y2="120" class="arrow" />

  <text x="40" y="220" class="small">
Agents send raw measurements → Orchestrator cleans and evaluates → Postgres stores a history → API/UI consume only what each view needs.
  </text>
</svg>
