<svg xmlns="http://www.w3.org/2000/svg" width="900" height="600">
  <style>
    .box { fill:#f5f5f5; stroke:#333; stroke-width:1.5; rx:8; ry:8; }
    .title { font-family:Arial, sans-serif; font-size:18px; font-weight:bold; }
    .label { font-family:Arial, sans-serif; font-size:13px; }
    .small { font-family:Arial, sans-serif; font-size:11px; }
    .arrow { stroke:#333; stroke-width:1.5; marker-end:url(#arrow); fill:none; }
  </style>
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>

  <text x="20" y="30" class="title">Smart-Monitor Architecture (VM Lab)</text>

  <!-- VM box -->
  <rect x="40" y="60" width="820" height="500" class="box" />
  <text x="50" y="80" class="label">VM (Linux host â€“ mini data center)</text>

  <!-- Cloudflare + Nginx -->
  <rect x="80" y="110" width="220" height="90" class="box" />
  <text x="90" y="130" class="label">Entry Layer</text>
  <text x="90" y="150" class="small">Cloudflare Tunnel</text>
  <text x="90" y="168" class="small">Nginx Reverse Proxy</text>

  <!-- API + UI -->
  <rect x="340" y="110" width="220" height="90" class="box" />
  <text x="350" y="130" class="label">Smart-Monitor App</text>
  <text x="350" y="150" class="small">Flask API</text>
  <text x="350" y="168" class="small">HTMX UI + SSE</text>

  <!-- Postgres -->
  <rect x="640" y="110" width="180" height="90" class="box" />
  <text x="650" y="130" class="label">Postgres</text>
  <text x="650" y="150" class="small">Metrics, Events, Logs</text>

  <!-- Orchestrator -->
  <rect x="340" y="250" width="220" height="90" class="box" />
  <text x="350" y="270" class="label">Orchestrator</text>
  <text x="350" y="290" class="small">Detection &amp; Auto-Remediation</text>

  <!-- Agents -->
  <rect x="80" y="250" width="220" height="90" class="box" />
  <text x="90" y="270" class="label">Agents</text>
  <text x="90" y="290" class="small">CPU / Memory / Disk / Services / Network</text>

  <!-- Kind cluster -->
  <rect x="640" y="250" width="180" height="140" class="box" />
  <text x="650" y="270" class="label">Kind Cluster</text>
  <text x="650" y="290" class="small">K8s API</text>
  <text x="650" y="308" class="small">Nodes &amp; Pods</text>
  <text x="650" y="326" class="small">Deployments / Services</text>

  <!-- Arrows -->
  <line x1="300" y1="155" x2="340" y2="155" class="arrow" />
  <line x1="560" y1="155" x2="640" y2="155" class="arrow" />
  <line x1="450" y1="200" x2="450" y2="250" class="arrow" />
  <line x1="190" y1="250" x2="190" y2="200" class="arrow" />
  <line x1="640" y1="320" x2="560" y2="320" class="arrow" />
  <line x1="300" y1="295" x2="340" y2="295" class="arrow" />

  <!-- Host label -->
  <text x="50" y="555" class="small">All components run as Docker containers on the VM using Docker Compose.</text>
</svg>
